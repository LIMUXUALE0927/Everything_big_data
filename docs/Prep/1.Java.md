# Java

## Java SE

### 抽象类和接口的区别

在语义上：抽象类主要表示「is-a」（是什么）的关系，接口主要表示「has-a」（有什么功能）的关系。

在实现上：抽象类通过继承的方式来实现，一个类只能继承一个抽象类；接口通过实现的方式来实现，一个类可以实现多个接口。

相同点：

- 都可以声明抽象方法
- 都不能被直接实例化

不同点：

- 构造器：抽象类可以有构造器，接口不能有构造器
- 成员变量：抽象类可以有成员变量，接口只能有静态常量（public static final）
- 方法：抽象类可以有普通方法，接口只能有抽象方法（Java 8 之后可以有默认方法和静态方法）

```java
interface MyInterface {
    int MAX_VALUE = 100;  // 默认为 public static final

    void abstractMethod();

    default void defaultMethod() {
        System.out.println("This is a default method.");
    }

    static void staticMethod() {
        System.out.println("This is a static method.");
    }
}

class MyClass implements MyInterface {
    @Override
    public void abstractMethod() {
        System.out.println("Abstract method implementation.");
    }
}

public class InterfaceExample {
    public static void main(String[] args) {
        MyClass myClass = new MyClass();
        myClass.abstractMethod(); // Output: Abstract method implementation.
        myClass.defaultMethod(); // Output: This is a default method.

        MyInterface.staticMethod(); // Output: This is a static method.

        System.out.println("Max value: " + MyInterface.MAX_VALUE); // Output: Max value: 100
    }
}
```

---

### 单例模式

饿汉式：

- 优点：线程安全
- 缺点：类加载时就初始化，浪费内存

```java
public final class Singleton {
    private static final Singleton instance = new Singleton();

    private Singleton() {}

    public static Singleton getInstance() {
        return instance;
    }
}
```

懒汉式：

```java
public final class Singleton {
    private static Singleton instance = null;

    private Singleton() {}

    // 性能问题
    public synchronized static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```

枚举：

- 优点：线程安全，防止反射和反序列化攻击
- 缺点：无法懒加载

```java
enum Singleton {
    INSTANCE;
}
```

---
